import{s as w,_ as E,f as u,h as N,l as O,r as b,o as v,c as A,a as o,d as i,i as m,g as C,w as D,j as R,F as M,m as y,q as g,p as F,e as j,v as h}from"./index-85c6c6a3.js";import{g as q,B as U}from"./ButtonAdd-59c43077.js";import{m as W,M as G,B as P}from"./ButtonSave-c0735596.js";const H=async()=>{try{const e=q(),{data:s}=await w.get("/maintenance/works",{headers:{token:e}});return s}catch(e){console.error(e)}},J=async e=>{try{const s=q(),{data:d}=await w.post("/maintenance/works/register",{name:e.name,description:e.description},{headers:{token:s}});return d}catch(s){console.error(s)}};const p=e=>(F("data-v-de619f8e"),e=e(),j(),e),K={class:"q-py-md table-container"},Q=p(()=>o("h6",{class:"title q-my-lg"},"TIPOS DE LABOR",-1)),X={class:"container-content"},Y={class:"container-table q-mt-md q-pa-md",rounded:""},Z=p(()=>o("h6",{class:"q-my-md text-center"},"REGISTRAR LABOR",-1)),$={class:"row q-px-xl"},ee={class:"col-12"},te=p(()=>o("span",{class:"text-required q-pb-sm"},[h("Todos los campos con "),o("span",{class:"text-red"},"*"),h(" son obligatorios")],-1)),oe={class:"row justify-center"},se={__name:"TypeLabors",setup(e){const s=W(),d=u(!1);let a=u(""),l=u(""),k=N(()=>a.value=="");const x=[t=>!!t||"Este campo es requerido"],f=u([]),T=u([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"description",label:"Descripción",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"}]),L=()=>{s.toggleModal(),a.value="",l.value=""},S=t=>{a.value=t},B=t=>{l.value=t},I=()=>{V(),s.toggleModal()},V=async()=>{await J({name:a.value,description:l.value}),_()},_=async()=>{d.value=!0;const{works:t}=await H();let r=1;t.forEach(n=>{n.status=n.status?"Inactivo":"Activo",n.id=r++,n.description=n.description.trim()==""?"No registra":n.description}),f.value=t,d.value=!1};return O(()=>{_()}),(t,r)=>{const n=b("q-separator"),z=b("q-table");return v(),A(M,null,[o("div",K,[Q,i(n,{class:"separator"}),o("div",X,[i(U,{onOnClick:L,label:"Crear tipo de labor"}),o("div",Y,[i(z,{flat:"",bordered:"",title:"Labores","row-key":"name",rows:f.value,columns:T.value,filter:t.filter,loading:d.value,"rows-per-page-options":[5,10,20]},null,8,["rows","columns","filter","loading"])])])]),m(s).modalIsOpen?(v(),C(G,{key:0},{default:D(()=>[Z,o("div",$,[o("div",ee,[i(g,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:x,modelValue:m(a),"onUpdate:modelValue":r[0]||(r[0]=c=>y(a)?a.value=c:a=c),onOnWrite:S},null,8,["modelValue"]),i(g,{label:"Descripción",type:"text",required:!1,modelValue:m(l),"onUpdate:modelValue":r[1]||(r[1]=c=>y(l)?l.value=c:l=c),onOnWrite:B},null,8,["modelValue"]),te,o("div",oe,[i(P,{disable:m(k),onOnClick:I},null,8,["disable"])])])])]),_:1})):R("",!0)],64)}}},re=E(se,[["__scopeId","data-v-de619f8e"]]);export{re as default};
