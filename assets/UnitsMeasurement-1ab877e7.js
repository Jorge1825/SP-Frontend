import{s as U,_ as A,f as d,h as C,l as O,r as f,o as q,c as R,a as t,d as i,w as _,i as u,g as F,j,F as W,m as v,q as w,p as G,e as P,v as x}from"./index-85c6c6a3.js";import{g as M,B as H}from"./ButtonAdd-59c43077.js";import{m as J,M as K,B as L}from"./ButtonSave-c0735596.js";const Q=async()=>{try{const e=M(),{data:a}=await U.get("/maintenance/unittypes",{headers:{token:e}});return a}catch(e){console.error(e)}},X=async e=>{try{const a=M(),{data:c}=await U.post("/maintenance/unittypes/register",{name:e.name,unittype:e.unittype},{headers:{token:a}});return c}catch(a){console.error(a)}};const y=e=>(G("data-v-b06f4840"),e=e(),P(),e),Y={class:"q-py-md table-container"},Z=y(()=>t("h6",{class:"title q-my-lg"},"UNIDADES DE MEDIDA",-1)),$={class:"container-content"},ee={class:"container-table q-mt-md q-pa-md",rounded:""},te=y(()=>t("h6",{class:"q-my-md text-center"},"REGISTRAR TIPO DE UNIDAD",-1)),ae={class:"row q-px-xl"},oe={class:"col-12"},se=y(()=>t("span",{class:"text-required q-pb-sm"},[x("Todos los campos con "),t("span",{class:"text-red"},"*"),x(" son obligatorios")],-1)),ne={class:"row justify-center"},le={__name:"UnitsMeasurement",setup(e){const a=J(),c=d(!1);let s=d(""),n=d(""),m=d(""),I=C(()=>s.value==""||n.value=="");const b=[o=>!!o||"Este campo es requerido"],g=d([]),k=d([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"unittype",label:"Tipo de unidad",field:"unittype",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"}]),S=()=>{a.toggleModal(),s.value="",n.value=""},V=o=>{s.value=o},E=o=>{n.value=o},T=()=>{D(),a.toggleModal()},D=async()=>{await X({name:s.value,unittype:n.value}),h()},h=async()=>{c.value=!0;const{unitType:o}=await Q();let l=1;o.forEach(p=>{p.status=p.status?"Inactivo":"Activo",p.id=l++}),g.value=o,c.value=!1};return O(()=>{h()}),(o,l)=>{const p=f("q-separator"),B=f("q-icon"),N=f("q-input"),z=f("q-table");return q(),R(W,null,[t("div",Y,[Z,i(p,{class:"separator"}),t("div",$,[i(H,{onOnClick:S,label:"Crear unidad de medida"}),t("div",ee,[i(z,{flat:"",bordered:"",title:"Usuarios","row-key":"name",rows:g.value,columns:k.value,filter:u(m),loading:c.value,"rows-per-page-options":[5,10,20]},{"top-right":_(()=>[i(N,{borderless:"",dense:"",debounce:"300",modelValue:u(m),"onUpdate:modelValue":l[0]||(l[0]=r=>v(m)?m.value=r:m=r),placeholder:"Search"},{append:_(()=>[i(B,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),u(a).modalIsOpen?(q(),F(K,{key:0},{default:_(()=>[te,t("div",ae,[t("div",oe,[i(w,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:b,modelValue:u(s),"onUpdate:modelValue":l[1]||(l[1]=r=>v(s)?s.value=r:s=r),onOnWrite:V},null,8,["modelValue"]),i(w,{label:"Tipo de Unidad",required:!0,type:"text",ruless:b,modelValue:u(n),"onUpdate:modelValue":l[2]||(l[2]=r=>v(n)?n.value=r:n=r),onOnWrite:E},null,8,["modelValue"]),se,t("div",ne,[i(L,{disable:u(I),onOnClick:T},null,8,["disable"])])])])]),_:1})):j("",!0)],64)}}},ue=A(le,[["__scopeId","data-v-b06f4840"]]);export{ue as default};
