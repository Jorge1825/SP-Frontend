import{s as w,_ as D,f as d,h as M,l as G,r as _,o as h,c as R,a as t,d as i,w as f,i as p,g as F,j as U,F as j,m as v,q as S,p as W,e as P,v as q}from"./index-85c6c6a3.js";import{g as x,B as H}from"./ButtonAdd-59c43077.js";import{m as J,M as K,B as L}from"./ButtonSave-c0735596.js";const Q=async()=>{const o=x();try{const{data:e}=await w.get("/maintenance/spents",{headers:{token:o}});return e}catch(e){console.error(e)}},X=async o=>{try{const e=x(),{data:u}=await w.post("/maintenance/spents/register",{name:o.name,description:o.description},{headers:{token:e}});return u}catch(e){console.error(e)}};const g=o=>(W("data-v-8ee9320c"),o=o(),P(),o),Y={class:"q-py-md table-container"},Z=g(()=>t("h6",{class:"title q-my-lg"},"TIPOS DE GASTOS",-1)),$={class:"container-content"},ee={class:"container-table q-mt-md q-pa-md",rounded:""},te=g(()=>t("h6",{class:"q-my-md text-center"},"REGISTRAR GASTO",-1)),oe={class:"row q-px-xl"},se={class:"col-12"},ae=g(()=>t("span",{class:"text-required q-pb-sm"},[q("Todos los campos con "),t("span",{class:"text-red"},"*"),q(" son obligatorios")],-1)),ne={class:"row justify-center"},le={__name:"TypeSpents",setup(o){const e=J(),u=d(!1);let a=d(""),m=d(""),c=d(""),T=M(()=>a.value=="");const k=[s=>!!s||"Este campo es requerido"],y=d([]),V=d([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"description",label:"Descripción",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"}]),I=()=>{e.toggleModal(),a.value="",c.value=""},B=s=>{a.value=s},z=s=>{c.value=s},E=()=>{N(),e.toggleModal()},N=async()=>{await X({name:a.value,description:c.value}),b()},b=async()=>{u.value=!0;const{spents:s}=await Q();let n=1;s.forEach(l=>{l.status=l.status?"Inactivo":"Activo",l.id=n++,l.description=l.description.trim()==""?"No registra":l.description}),y.value=s,u.value=!1};return G(()=>{b()}),(s,n)=>{const l=_("q-separator"),O=_("q-icon"),A=_("q-input"),C=_("q-table");return h(),R(j,null,[t("div",Y,[Z,i(l,{class:"separator"}),t("div",$,[i(H,{onOnClick:I,label:"Crear tipo de gasto"}),t("div",ee,[i(C,{flat:"",bordered:"",title:"Gastos","row-key":"name",rows:y.value,columns:V.value,filter:p(m),loading:u.value,"rows-per-page-options":[5,10,20]},{"top-right":f(()=>[i(A,{borderless:"",dense:"",debounce:"300",modelValue:p(m),"onUpdate:modelValue":n[0]||(n[0]=r=>v(m)?m.value=r:m=r),placeholder:"Search"},{append:f(()=>[i(O,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),p(e).modalIsOpen?(h(),F(K,{key:0},{default:f(()=>[te,t("div",oe,[t("div",se,[i(S,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:k,modelValue:p(a),"onUpdate:modelValue":n[1]||(n[1]=r=>v(a)?a.value=r:a=r),onOnWrite:B},null,8,["modelValue"]),i(S,{label:"Descripción",type:"text",required:!1,modelValue:p(c),"onUpdate:modelValue":n[2]||(n[2]=r=>v(c)?c.value=r:c=r),onOnWrite:z},null,8,["modelValue"]),ae,t("div",ne,[i(L,{disable:p(T),onOnClick:E},null,8,["disable"])])])])]),_:1})):U("",!0)],64)}}},de=D(le,[["__scopeId","data-v-8ee9320c"]]);export{de as default};
