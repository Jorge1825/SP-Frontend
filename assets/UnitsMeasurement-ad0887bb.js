import{s as U,_ as A,f as d,h as C,l as O,r as _,o as q,c as R,a as t,d as i,w as f,i as c,g as F,j,F as W,m as g,q as w,p as G,e as P,v as x}from"./index-dd023763.js";import{g as M,m as H,M as J,B as K,a as L}from"./ButtonSave-fa15d2e0.js";const Q=async()=>{try{const e=M(),{data:a}=await U.get("/maintenance/unittypes",{headers:{token:e}});return a}catch(e){console.error(e)}},X=async e=>{try{const a=M(),{data:u}=await U.post("/maintenance/unittypes/register",{name:e.name,unittype:e.unittype},{headers:{token:a}});return u}catch(a){console.error(a)}};const v=e=>(G("data-v-a1282bdd"),e=e(),P(),e),Y={class:"q-py-md table-container"},Z=v(()=>t("h6",{class:"title q-my-lg"},"UNIDADES DE MEDIDA",-1)),$={class:"container-content"},ee={class:"container-table q-mt-md q-pa-md",rounded:""},te=v(()=>t("h6",{class:"q-my-md text-center"},"REGISTRAR TIPO DE UNIDAD",-1)),ae={class:"row q-px-xl"},se={class:"col-12"},oe=v(()=>t("span",{class:"text-required q-pb-sm"},[x("Todos los campos con "),t("span",{class:"text-red"},"*"),x(" son obligatorios")],-1)),ne={class:"row justify-center"},le={__name:"UnitsMeasurement",setup(e){const a=H(),u=d(!1);let o=d(""),n=d(""),m=d(""),I=C(()=>o.value==""||n.value=="");const y=[s=>!!s||"Este campo es requerido"],b=d([]),k=d([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"unittype",label:"Tipo de unidad",field:"unittype",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"}]),S=()=>{a.toggleModal(),o.value="",n.value=""},V=s=>{o.value=s},E=s=>{n.value=s},T=()=>{D(),a.toggleModal()},D=async()=>{await X({name:o.value,unittype:n.value}),h()},h=async()=>{u.value=!0;const{unitType:s}=await Q();let l=1;s.forEach(p=>{p.status=p.status?"Inactivo":"Activo",p.id=l++}),b.value=s,u.value=!1};return O(()=>{h()}),(s,l)=>{const p=_("q-separator"),N=_("q-icon"),z=_("q-input"),B=_("q-table");return q(),R(W,null,[t("div",Y,[Z,i(p,{class:"separator"}),t("div",$,[i(K,{onOnClick:S,label:"Crear unidad de medida"}),t("div",ee,[i(B,{flat:"",bordered:"",title:"Usuarios","row-key":"name",rows:b.value,columns:k.value,filter:c(m),loading:u.value,"rows-per-page-options":[5,10,20]},{"top-right":f(()=>[i(z,{borderless:"",dense:"",debounce:"300",modelValue:c(m),"onUpdate:modelValue":l[0]||(l[0]=r=>g(m)?m.value=r:m=r),placeholder:"Search"},{append:f(()=>[i(N,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),c(a).modalIsOpen?(q(),F(J,{key:0},{default:f(()=>[te,t("div",ae,[t("div",se,[i(w,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:y,modelValue:c(o),"onUpdate:modelValue":l[1]||(l[1]=r=>g(o)?o.value=r:o=r),onOnWrite:V},null,8,["modelValue"]),i(w,{label:"Tipo de Unidad",required:!0,type:"text",ruless:y,modelValue:c(n),"onUpdate:modelValue":l[2]||(l[2]=r=>g(n)?n.value=r:n=r),onOnWrite:E},null,8,["modelValue"]),oe,t("div",ne,[i(L,{disable:c(I),onOnClick:T},null,8,["disable"])])])])]),_:1})):j("",!0)],64)}}},de=A(le,[["__scopeId","data-v-a1282bdd"]]);export{de as default};
