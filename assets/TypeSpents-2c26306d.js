import{s as w,_ as D,f as d,h as M,l as G,r as f,o as h,c as R,a as t,d as c,w as _,i as p,g as F,j as U,F as j,m as g,q as S,p as W,e as P,v as q}from"./index-dd023763.js";import{g as x,m as H,M as J,B as K,a as L}from"./ButtonSave-fa15d2e0.js";const Q=async()=>{const o=x();try{const{data:e}=await w.get("/maintenance/spents",{headers:{token:o}});return e}catch(e){console.error(e)}},X=async o=>{try{const e=x(),{data:u}=await w.post("/maintenance/spents/register",{name:o.name,description:o.description},{headers:{token:e}});return u}catch(e){console.error(e)}};const v=o=>(W("data-v-e5a2c7fd"),o=o(),P(),o),Y={class:"q-py-md table-container"},Z=v(()=>t("h6",{class:"title q-my-lg"},"TIPOS DE GASTOS",-1)),$={class:"container-content"},ee={class:"container-table q-mt-md q-pa-md",rounded:""},te=v(()=>t("h6",{class:"q-my-md text-center"},"REGISTRAR GASTO",-1)),oe={class:"row q-px-xl"},se={class:"col-12"},ae=v(()=>t("span",{class:"text-required q-pb-sm"},[q("Todos los campos con "),t("span",{class:"text-red"},"*"),q(" son obligatorios")],-1)),ne={class:"row justify-center"},le={__name:"TypeSpents",setup(o){const e=H(),u=d(!1);let a=d(""),m=d(""),i=d(""),T=M(()=>a.value=="");const k=[s=>!!s||"Este campo es requerido"],y=d([]),V=d([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"description",label:"Descripción",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"}]),I=()=>{e.toggleModal(),a.value="",i.value=""},z=s=>{a.value=s},B=s=>{i.value=s},E=()=>{N(),e.toggleModal()},N=async()=>{await X({name:a.value,description:i.value}),b()},b=async()=>{u.value=!0;const{spents:s}=await Q();let n=1;s.forEach(l=>{l.status=l.status?"Inactivo":"Activo",l.id=n++,l.description=l.description.trim()==""?"No registra":l.description}),y.value=s,u.value=!1};return G(()=>{b()}),(s,n)=>{const l=f("q-separator"),O=f("q-icon"),A=f("q-input"),C=f("q-table");return h(),R(j,null,[t("div",Y,[Z,c(l,{class:"separator"}),t("div",$,[c(K,{onOnClick:I,label:"Crear tipo de gasto"}),t("div",ee,[c(C,{flat:"",bordered:"",title:"Gastos","row-key":"name",rows:y.value,columns:V.value,filter:p(m),loading:u.value,"rows-per-page-options":[5,10,20]},{"top-right":_(()=>[c(A,{borderless:"",dense:"",debounce:"300",modelValue:p(m),"onUpdate:modelValue":n[0]||(n[0]=r=>g(m)?m.value=r:m=r),placeholder:"Search"},{append:_(()=>[c(O,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),p(e).modalIsOpen?(h(),F(J,{key:0},{default:_(()=>[te,t("div",oe,[t("div",se,[c(S,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:k,modelValue:p(a),"onUpdate:modelValue":n[1]||(n[1]=r=>g(a)?a.value=r:a=r),onOnWrite:z},null,8,["modelValue"]),c(S,{label:"Descripción",type:"text",required:!1,modelValue:p(i),"onUpdate:modelValue":n[2]||(n[2]=r=>g(i)?i.value=r:i=r),onOnWrite:B},null,8,["modelValue"]),ae,t("div",ne,[c(L,{disable:p(T),onOnClick:E},null,8,["disable"])])])])]),_:1})):U("",!0)],64)}}},ie=D(le,[["__scopeId","data-v-e5a2c7fd"]]);export{ie as default};
