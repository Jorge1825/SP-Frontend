import{s as S,_ as T,f as m,h as U,l as F,r as v,o as w,c as W,a as l,d as i,w as g,i as p,g as j,j as G,F as H,m as _,q as h,p as J,e as K,v as x}from"./index-85c6c6a3.js";import{g as V,B as L}from"./ButtonAdd-59c43077.js";import{m as Q,M as X,B as Y}from"./ButtonSave-c0735596.js";const Z=async()=>{try{const e=V(),{data:r}=await S.get("/maintenance/eps",{headers:{token:e}});return r}catch(e){console.error(e)}},$=async e=>{try{const r=V(),{data:f}=await S.post("/maintenance/eps/register",{name:e.name,description:e.description,observation:e.observation},{headers:{token:r}});return f}catch(r){console.error(r)}};const y=e=>(J("data-v-c4b9b0be"),e=e(),K(),e),ee={class:"q-py-sm table-container"},te=y(()=>l("h6",{class:"title q-my-lg"},"EPS",-1)),oe={class:"container-content"},se={class:"container-table q-mt-md q-pa-md",rounded:""},ae=y(()=>l("h6",{class:"q-my-md text-center"},"REGISTRAR EPS",-1)),ne={class:"row q-px-xl"},le={class:"col-12"},re=y(()=>l("span",{class:"text-required q-pb-sm"},[x("Todos los campos con "),l("span",{class:"text-red"},"*"),x(" son obligatorios")],-1)),ie={class:"row justify-center"},de={__name:"Eps",setup(e){const r=Q(),f=m(!1);let d=m(""),c=m(""),u=m(""),b=m(""),k=U(()=>d.value=="");const I=[t=>!!t||"Este campo es requerido"],q=m([]),z=m([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"description",label:"Descripci贸n",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"observation",label:"Observaci贸n",field:"observation",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"}]);s;const B=()=>{r.toggleModal(),d.value="",c.value="",u.value=""},N=t=>{d.value=t},O=t=>{c.value=t},C=t=>{u.value=t},D=()=>{M(),r.toggleModal()},M=async()=>{await $({name:d.value,description:c.value,observation:u.value}),E()},E=async()=>{f.value=!0;const{eps:t}=await Z();let n=1;t.forEach(o=>{o.status=o.status?"Inactivo":"Activo",o.id=n++,o.description=o.description.trim()==""?"No registra":o.description,o.observation=o.observation.trim()==""?"No registra":o.observation}),q.value=t,f.value=!1};return F(()=>{E()}),(t,n)=>{const o=v("q-separator"),A=v("q-icon"),P=v("q-input"),R=v("q-table");return w(),W(H,null,[l("div",ee,[te,i(o,{class:"separator"}),l("div",oe,[i(L,{onOnClick:B,label:"Crear nueva EPS"}),l("div",se,[i(R,{flat:"",bordered:"",title:"EPS","row-key":"name",rows:q.value,columns:z.value,filter:p(b),"rows-per-page-options":[5,10,20],loading:f.value},{"top-right":g(()=>[i(P,{borderless:"",dense:"",debounce:"300",modelValue:p(b),"onUpdate:modelValue":n[0]||(n[0]=a=>_(b)?b.value=a:b=a),placeholder:"Search"},{append:g(()=>[i(A,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),p(r).modalIsOpen?(w(),j(X,{key:0},{default:g(()=>[ae,l("div",ne,[l("div",le,[i(h,{label:"Nombre",required:!0,type:"text",ruless:I,modelValue:p(d),"onUpdate:modelValue":n[1]||(n[1]=a=>_(d)?d.value=a:d=a),onOnWrite:N},null,8,["modelValue"]),i(h,{class:"q-mb-md",label:"Descripci贸n",type:"text",required:!1,modelValue:p(c),"onUpdate:modelValue":n[2]||(n[2]=a=>_(c)?c.value=a:c=a),onOnWrite:O},null,8,["modelValue"]),i(h,{class:"q-pb-xs",label:"Observaci贸n",type:"text",required:!1,modelValue:p(u),"onUpdate:modelValue":n[3]||(n[3]=a=>_(u)?u.value=a:u=a),onOnWrite:C},null,8,["modelValue"]),re,l("div",ie,[i(Y,{disable:p(k),onOnClick:D},null,8,["disable"])])])])]),_:1})):G("",!0)],64)}}},pe=T(de,[["__scopeId","data-v-c4b9b0be"]]);export{pe as default};
