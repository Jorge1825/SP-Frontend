import{s as E,_ as j,f as i,h as G,l as H,r as q,o as F,c as J,a as n,d as s,w as y,i as r,g as K,j as L,F as P,m as v,q as _,p as Q,e as X,v as I}from"./index-85c6c6a3.js";import{g as S,B as Y}from"./ButtonAdd-59c43077.js";import{m as Z,M as $,B as ee}from"./ButtonSave-c0735596.js";const te=async()=>{try{const a=S(),{data:l}=await E.get("/maintenance/farm",{headers:{token:a}});return l}catch(a){console.error(a)}},ae=async a=>{try{const l=S(),{data:g}=await E.post("/maintenance/farm/register",{name:a.name,description:a.description,nit:a.nit,ubication:a.ubication,miniumExistence:a.miniumExistence},{headers:{token:l}});return g}catch(l){console.error(l)}};const h=a=>(Q("data-v-6b0fac75"),a=a(),X(),a),oe={class:"q-py-md table-container"},se=h(()=>n("h6",{class:"title q-my-lg"},"Finca",-1)),ne={class:"container-content"},le={class:"container-table q-mt-md q-pa-md",rounded:""},ie=h(()=>n("h6",{class:"q-my-md text-center"},"REGISTRAR FINCA",-1)),re={class:"row q-px-xl"},de={class:"col-12"},ue=h(()=>n("span",{class:"text-required q-pb-sm"},[I("Todos los campos con "),n("span",{class:"text-red"},"*"),I(" son obligatorios")],-1)),ce={class:"row justify-center"},me={__name:"Farm",setup(a){const l=Z(),g=i(!1);let d=i(""),c=i(""),m=i(""),x=i(""),p=i(""),f=i(""),z=G(()=>d.value=="");const b=[t=>!!t||"Este campo es requerido"],V=i([]),k=i([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"description",label:"Descripci贸n",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"nit",label:"NIT",field:"nit",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"ubication",label:"Ubicaci贸n",field:"ubication",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"miniumExistence",label:"Minimo Existencias",field:"miniumExistence",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-medium); font-weight: bold;",style:"font-size: var(--font-medium);"}]),N=()=>{l.toggleModal(),d.value="",c.value="",m.value="",p.value="",f.value=""},U=t=>{d.value=t},B=t=>{c.value=t},C=t=>{m.value=t},M=t=>{p.value=t},O=t=>{f.value=t},T=()=>{A(),l.toggleModal()},A=async()=>{await ae({name:d.value,description:c.value}),w()},w=async()=>{g.value=!0;const{farm:t}=await te();let o=1;t.forEach(u=>{u.status=u.status?"Inactivo":"Activo",u.id=o++,u.description=u.description.trim()==""?"No registra":u.description}),V.value=t,g.value=!1};return H(()=>{w()}),(t,o)=>{const u=q("q-separator"),D=q("q-icon"),W=q("q-input"),R=q("q-table");return F(),J(P,null,[n("div",oe,[se,s(u,{class:"separator"}),n("div",ne,[s(Y,{onOnClick:N,label:"Crear nueva finca"}),n("div",le,[s(R,{flat:"",bordered:"",title:"Fincas","row-key":"name",rows:V.value,columns:k.value,filter:r(x),loading:g.value,"rows-per-page-options":[5,10,20]},{"top-right":y(()=>[s(W,{borderless:"",dense:"",debounce:"300",modelValue:r(x),"onUpdate:modelValue":o[0]||(o[0]=e=>v(x)?x.value=e:x=e),placeholder:"Search"},{append:y(()=>[s(D,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),r(l).modalIsOpen?(F(),K($,{key:0},{default:y(()=>[ie,n("div",re,[n("div",de,[s(_,{class:"q-pb-xs",label:"Nombre",required:!0,type:"text",ruless:b,modelValue:r(d),"onUpdate:modelValue":o[1]||(o[1]=e=>v(d)?d.value=e:d=e),onOnWrite:U},null,8,["modelValue"]),s(_,{class:"q-pb-xs",label:"Descripci贸n",type:"text",required:!1,ruless:b,modelValue:r(c),"onUpdate:modelValue":o[2]||(o[2]=e=>v(c)?c.value=e:c=e),onOnWrite:B},null,8,["modelValue"]),s(_,{class:"q-pb-xs",label:"NIT",required:!0,type:"text",ruless:b,modelValue:r(m),"onUpdate:modelValue":o[3]||(o[3]=e=>v(m)?m.value=e:m=e),onOnWrite:C},null,8,["modelValue"]),s(_,{class:"q-pb-xs",label:"Ubicaci贸n",required:!0,type:"text",ruless:b,modelValue:r(p),"onUpdate:modelValue":o[4]||(o[4]=e=>v(p)?p.value=e:p=e),onOnWrite:M},null,8,["modelValue"]),s(_,{class:"q-pb-xs",label:"Unidad Cana",required:!0,type:"text",ruless:b}),s(_,{class:"q-pb-xs",label:"Minimo Existencias",required:!0,type:"text",ruless:b,modelValue:r(f),"onUpdate:modelValue":o[5]||(o[5]=e=>v(f)?f.value=e:f=e),onOnWrite:O},null,8,["modelValue"]),ue,n("div",ce,[s(ee,{disable:r(z),onOnClick:T},null,8,["disable"])])])])]),_:1})):L("",!0)],64)}}},ve=j(me,[["__scopeId","data-v-6b0fac75"]]);export{ve as default};
