import{s as x,_ as R,f as u,h as T,l as U,r as v,o as E,c as F,a as n,d as r,w as _,i as p,g as W,j,F as G,m as b,q as g,p as H,e as J,v as w}from"./index-dd023763.js";import{g as S,m as K,M as L,B as Q,a as X}from"./ButtonSave-fa15d2e0.js";const Y=async()=>{try{const e=S(),{data:l}=await x.get("/maintenance/eps",{headers:{token:e}});return l}catch(e){console.error(e)}},Z=async e=>{try{const l=S(),{data:m}=await x.post("/maintenance/eps/register",{name:e.name,description:e.description,observation:e.observation},{headers:{token:l}});return m}catch(l){console.error(l)}};const h=e=>(H("data-v-27f77deb"),e=e(),J(),e),$={class:"q-py-sm table-container"},ee=h(()=>n("h6",{class:"title q-my-lg"},"EPS",-1)),te={class:"container-content"},oe={class:"container-table q-mt-md q-pa-md",rounded:""},ae=h(()=>n("h6",{class:"q-my-md text-center"},"REGISTRAR EPS",-1)),se={class:"row q-px-xl"},ne={class:"col-12"},le=h(()=>n("span",{class:"text-required q-pb-sm"},[w("Todos los campos con "),n("span",{class:"text-red"},"*"),w(" son obligatorios")],-1)),re={class:"row justify-center"},ie={__name:"Eps",setup(e){const l=K(),m=u(!1);let i=u(""),d=u(""),c=u(""),f=u(""),V=T(()=>i.value=="");const k=[t=>!!t||"Este campo es requerido"],y=u([]),I=u([{name:"id",label:"#",field:"id",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"name",label:"Nombre",field:"name",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"description",label:"Descripci贸n",field:"description",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"observation",label:"Observaci贸n",field:"observation",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"},{name:"status",label:"Estado",field:"status",align:"left",sortable:!0,headerStyle:"font-size: var(--font-large); font-weight: bold;",style:"font-size: var(--font-large);"}]),z=()=>{l.toggleModal(),i.value="",d.value="",c.value=""},N=t=>{i.value=t},O=t=>{d.value=t},B=t=>{c.value=t},C=()=>{D(),l.toggleModal()},D=async()=>{await Z({name:i.value,description:d.value,observation:c.value}),q()},q=async()=>{m.value=!0;const{eps:t}=await Y();let s=1;t.forEach(o=>{o.status=o.status?"Inactivo":"Activo",o.id=s++,o.description=o.description.trim()==""?"No registra":o.description,o.observation=o.observation.trim()==""?"No registra":o.observation}),y.value=t,m.value=!1};return U(()=>{q()}),(t,s)=>{const o=v("q-separator"),M=v("q-icon"),A=v("q-input"),P=v("q-table");return E(),F(G,null,[n("div",$,[ee,r(o,{class:"separator"}),n("div",te,[r(Q,{onOnClick:z,label:"Crear nueva EPS"}),n("div",oe,[r(P,{flat:"",bordered:"",title:"EPS","row-key":"name",rows:y.value,columns:I.value,filter:p(f),"rows-per-page-options":[5,10,20],loading:m.value},{"top-right":_(()=>[r(A,{borderless:"",dense:"",debounce:"300",modelValue:p(f),"onUpdate:modelValue":s[0]||(s[0]=a=>b(f)?f.value=a:f=a),placeholder:"Search"},{append:_(()=>[r(M,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","columns","filter","loading"])])])]),p(l).modalIsOpen?(E(),W(L,{key:0},{default:_(()=>[ae,n("div",se,[n("div",ne,[r(g,{label:"Nombre",required:!0,type:"text",ruless:k,modelValue:p(i),"onUpdate:modelValue":s[1]||(s[1]=a=>b(i)?i.value=a:i=a),onOnWrite:N},null,8,["modelValue"]),r(g,{class:"q-mb-md",label:"Descripci贸n",type:"text",required:!1,modelValue:p(d),"onUpdate:modelValue":s[2]||(s[2]=a=>b(d)?d.value=a:d=a),onOnWrite:O},null,8,["modelValue"]),r(g,{class:"q-pb-xs",label:"Observaci贸n",type:"text",required:!1,modelValue:p(c),"onUpdate:modelValue":s[3]||(s[3]=a=>b(c)?c.value=a:c=a),onOnWrite:B},null,8,["modelValue"]),le,n("div",re,[r(X,{disable:p(V),onOnClick:C},null,8,["disable"])])])])]),_:1})):j("",!0)],64)}}},ue=R(ie,[["__scopeId","data-v-27f77deb"]]);export{ue as default};
